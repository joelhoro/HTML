<link rel="stylesheet" href="css/angular-chart.css">


<script src="lib/angular.min.js"></script>

<script type='text/javascript' src='lib/Chart/Chart.Core.js'></script>
<script type='text/javascript' src='lib/Chart/Chart.Bar.js'></script>
<script type='text/javascript' src='lib/Chart/Chart.Line.js'></script>
<script type='text/javascript' src='lib/angular-chart.js'></script>

<style>
.c {

  height : 200,
  width : 200,

}

</style>

<title>Chart test</title>
<html ng-app="app">

  <div class=c ng-controller="LineCtrl">
<button ng-click='update()'>CLICK</button>
<canvas id="line" class="chart chart-bar" chart-data="data" chart-labels="labels" chart-legend="true" chart-series="series">
</canvas>
  </div>

<!-- <span>Started at: {{ startTime }}</span> -->


</html>

<script>


angular.module("app", ["chart.js"]).controller("LineCtrl", function ($scope) {

  $scope.update = function() {

    var size = Math.round(Math.random()*5);
    var array = size => {
      var a = Array(size);
      for(i = 0; i < size; i++) a[i] = 0;
      return a;
    }

    $scope.labels = array(size).map(i => "Label"+Math.random())   //["January", "February", "March", "April", "May", "June", "July"];
    $scope.series = ['Series A', 'Series B'];
    $scope.data = [
      array(size).map(() => Math.random()*100),
      [28, 48, 40, 19, 86, 27, 90]
    ];

  }
    $scope.update();
  // $scope.onClick = function (points, evt) {
  //   console.log(points, evt);
  // };
        
// $scope.chartData = {
//     labels: ["January", "February", "March", "April", "May", "June", "July"],
//     series: ['Foo', 'Baz', 'Bar'],
//     data: [
//         [65, 59, 80, 81, 56, 55, 40],
//         [28, 48, 40, 19, 86, 27, 90],
//         [42, 17, 28, 73, 50, 12, 68]
//     ]
// };
});

</script>